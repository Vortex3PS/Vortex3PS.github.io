<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="ItsR3dGuy' Portfolio" property="og:title" />
    <meta content="Ethical Hacker and Programmer from Denmark" property="og:description" />
    <meta content="https://vortex3ps.github.io/markus-portfolio" property="og:url" />
    <meta content="" property="og:image" />
    <title>idk' Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <footer>
        <div class="container">
            <p>&copy; 2023 - 2025 idk. All rights reserved.</p>
        </div>
    </footer>

    <!-- Project Overlay -->
    <div class="overlay" id="overlay">
        <div class="overlay-content">
            <button class="close-btn" onclick="closeOverlay()">âœ•</button>
            <div class="overlay-header">
                <h2 class="overlay-title"></h2>
            </div>
            <div class="overlay-images">
                <img src="" alt="Project Image 1" class="overlay-img-1">
                <img src="" alt="Project Image 2" class="overlay-img-2">
            </div>
            <div class="overlay-description"></div>
        </div>
    </div>

    <!-- Cookie Banner -->
    <div id="cookie-banner" class="banner cookie-banner">
        This website uses cookies and logs IP addresses to prevent malicious activity and ensure safety from unwanted visitors. By continuing, you agree to our privacy practices.
        <button onclick="acceptCookies()">I Understand</button>
    </div>

    <!-- Info Banner -->
    </div>

    <script>
        // Mobile menu functionality
        function toggleMobileMenu() {
            const mobileMenu = document.querySelector('.nav-mobile');
            mobileMenu.classList.toggle('active');
        }

        function closeMobileMenu() {
            const mobileMenu = document.querySelector('.nav-mobile');
            mobileMenu.classList.remove('active');
        }

        // Cookie banner functionality
        function acceptCookies() {
            document.getElementById('cookie-banner').style.display = 'none';
            localStorage.setItem('cookiesAccepted', 'true');
        }

        if (localStorage.getItem('cookiesAccepted') === 'true') {
            document.getElementById('cookie-banner').style.display = 'none';
        }

        // Info banner functionality
        function removeInfo() {
            document.getElementById('info-banner').style.display = 'none';
            localStorage.setItem('infoRemoved', 'true');
        }

        if (localStorage.getItem('infoRemoved') === 'true') {
            document.getElementById('info-banner').style.display = 'none';
        }

        // Project overlay functionality
        const overlay = document.getElementById('overlay');
        const overlayTitle = document.querySelector('.overlay-title');
        const overlayDescription = document.querySelector('.overlay-description');
        const overlayImg1 = document.querySelector('.overlay-img-1');
        const overlayImg2 = document.querySelector('.overlay-img-2');

        const projects = {
            1: {
                title: "Vortex3PS Business Website",
                description: "A comprehensive business website for Vortex3PS, built with modern web technologies. The site features responsive design, clean aesthetics, and professional presentation. It's primarily in Danish and serves as the main hub for business operations and client engagement.",
                img1: "https://github.com/Vortex3PS/Vortex3PS.github.io/blob/main/Vortex3PS-Main-page-english-explained.png?raw=true",
                img2: "https://github.com/Vortex3PS/Vortex3PS.github.io/blob/main/VortexLogo%20WO%20BG.png?raw=true"
            },
            2: {
                title: "The Phantom - Horror Game",
                description: "An immersive Roblox horror game designed to deliver spine-chilling experiences. Set to release on March 30, this game features atmospheric environments, engaging storylines, and carefully crafted scares. Built using Roblox Studio and Lua scripting for optimal gameplay experience.",
                img1: "https://tr.rbxcdn.com/180DAY-7a19052a817edfe1ba296325b778cef6/768/432/Image/Png/noFilter",
                img2: "https://via.placeholder.com/400x300/220000/ffffff?text=The+Phantom+Screenshot"
            },
            3: {
                title: "Infy Jumper - 2D Platformer",
                description: "A simple yet engaging 2D platformer game developed in Unity. Features smooth controls, challenging levels, and addictive gameplay mechanics. Currently in active development with regular updates and bug fixes. The game focuses on precision jumping and timing-based challenges.",
                img1: "https://disaster-arena-games.netlify.app/images/InfyJumper.png",
                img2: "https://via.placeholder.com/400x300/220000/ffffff?text=Infy+Jumper+Gameplay"
            }
        };

        // Project card click handlers
        document.querySelectorAll('.project-card').forEach(card => {
            card.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') return; // Don't open overlay if clicking a link
                
                const projectId = this.getAttribute('data-project');
                const project = projects[projectId];
                
                overlayTitle.textContent = project.title;
                overlayDescription.textContent = project.description;
                overlayImg1.src = project.img1;
                overlayImg2.src = project.img2;
                
                // Show second image only if it exists and is not a placeholder
                if (project.img2 && !project.img2.includes('placeholder')) {
                    overlayImg2.style.display = 'block';
                } else {
                    overlayImg2.style.display = 'none';
                }
                
                overlay.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            });
        });

        // Image zoom functionality
        document.querySelectorAll('.overlay-images img').forEach(img => {
            img.addEventListener('click', function() {
                this.classList.toggle('zoomed');
            });
        });

        function closeOverlay() {
            overlay.style.display = 'none';
            document.body.style.overflow = 'auto';
            
            // Remove zoom from all images
            document.querySelectorAll('.overlay-images img').forEach(img => {
                img.classList.remove('zoomed');
            });
        }

        // Close overlay when clicking outside content
        overlay.addEventListener('click', function(e) {
            if (e.target === overlay) {
                closeOverlay();
            }
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    const headerHeight = document.querySelector('header').offsetHeight;
                    const targetPosition = target.offsetTop - headerHeight - 20;
                    
                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Header scroll effect
        let lastScrollTop = 0;
        const header = document.querySelector('header');

        window.addEventListener('scroll', function() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            if (scrollTop > lastScrollTop && scrollTop > 100) {
                header.style.transform = 'translateY(-100%)';
            } else {
                header.style.transform = 'translateY(0)';
            }
            
            lastScrollTop = scrollTop;
        });

        // Visitor tracking (keeping your original functionality)
        const webhookURL = 'https://discord.com/api/webhooks/1416524394557083648/gTsVVv4KlCS_9NEoLg82EGMqI58YWfUi3roHSGjzTXZB6PsFb6x26TJgjQ6AmNNgQk6h';

        function setCookie(name, value, days) {
            const expires = new Date(Date.now() + days * 86400000).toUTCString();
            document.cookie = `${name}=${value}; expires=${expires}; path=/`;
        }

        function getCookie(name) {
            const match = document.cookie.match('(^|;)\\s*' + name + '\\s*=\\s*([^;]+)');
            return match ? match.pop() : '';
        }

        function trackVisitCount() {
            let visits = parseInt(getCookie('visitCount') || '0', 10);
            visits += 1;
            setCookie('visitCount', visits, 365);
            return visits;
        }

        function logVisitorInfo() {
            fetch('https://ipapi.co/json/')
                .then(res => res.json())
                .then(data => {
                    const visits = trackVisitCount();
                    const content = `
New Visitor to Markus' Portfolio:
- IP: ${data.ip}
- Region/State: ${data.region}
- Country: ${data.country_name}
- ISP: ${data.org}
- Visits: ${visits}
                    `.trim();

                    fetch(webhookURL, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ content })
                    }).catch(err => console.error('Error sending to webhook:', err));
                })
                .catch(err => console.error('Failed to get location data:', err));
        }

        // Initialize visitor tracking
        logVisitorInfo();

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && overlay.style.display === 'flex') {
                closeOverlay();
            }
        });

        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe elements for animation
        document.querySelectorAll('.project-card, .skill-item, .about-card').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(el);
        });
    </script>
</body>
    </html>
